## Механизм инвалидации кеша

Используется **TTL** для инвалидации in-memory кеша собственной реализации. Кешируются заказы, хранящиеся в виде хеш-ключей и списков для фильтрации по статусу и по пользователю.

### Хранимые данные

Есть два типа данных:
* Пары ключ-значение вида `order:*` содержат информацию о заказах.
* Списки своей реализации вида: `orders:by_status:*` и `user:by_user:*`. 

Хранятся они в Store-хранилище (просто в мапе с записями)

### Инвалидация ключей

Сама инвалидация устанавливается следующим образом:
1. Либо у `order:*` устанавливается TTL, равный значению `Expiry`.
2. Либо если поле `ReturnBy` в запросе задается - то оно.

### Удаление элементов из множеств при истечении TTL

Работает горутина, что по заданному тику удаляет из хранилища просроченные `order:*`. Также при вызове `Get` тоже удаляется запись, если просрочена.

Из листов в свою очередь не удаляется ничего по истечению срока. Вместо этого удаления из листов происходит в соответствии вызовов функций обновления значений в кеше, либо же удалении.

### Причина использования

Самый очевидный способ, что сразу приходит в голову, потому что не следует хранить в кеше просроченные заказы.